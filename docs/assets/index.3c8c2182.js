var d=Object.defineProperty;var c=(r,e,t)=>e in r?d(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var o=(r,e,t)=>(c(r,typeof e!="symbol"?e+"":e,t),t);import{L as l}from"./vendor.84fd4821.js";const h=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}};h();class u{constructor(e){const t=document.querySelectorAll(e),n={root:document.querySelector(".common-main"),rootMargin:"-50% 0px",threshold:0},s=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&(console.log(a.target.id),this.selectItem(a.target.id))})},n);t.forEach(i=>{s.observe(i)})}selectItem(e){const t=document.querySelector("#js-pagemenu a.-active");t!==null&&t.classList.remove("-active");const n=document.querySelector(`a[href='#${e}']`);n==null||n.classList.add("-active")}}class m{constructor(e){o(this,"motion",null);o(this,"timer",null);o(this,"speed",1.25);const t=e.dataset.json;if(!t)return;const n=e.querySelector(".js-moving-box");!n||(this.motion=l.loadAnimation({container:n,path:"./json/"+t,renderer:"svg",loop:!0,autoplay:!1}),this.motion.setSpeed(this.speed),this.motion.play(),this.motion.addEventListener("DOMLoaded",()=>{e.addEventListener("mousedown",()=>{this.play()}),e.addEventListener("mouseup",()=>{this.stop()}),e.addEventListener("touchstart",()=>{this.play()}),e.addEventListener("touchend",()=>{this.stop()})}))}play(){var e;(e=this.motion)==null||e.setSpeed(.2)}stop(){var e;(e=this.motion)==null||e.setSpeed(this.speed)}}class p{constructor(e){o(this,"motion",null);o(this,"timer",null);o(this,"box",null);o(this,"offset",0);o(this,"is_back",!0);const t=e.dataset.json;!t||(this.box=e.querySelector(".js-moving-box"),!!this.box&&(this.motion=l.loadAnimation({container:this.box,path:"./json/"+t,renderer:"svg",loop:!0,autoplay:!1}),this.motion.setSpeed(1),this.motion.addEventListener("DOMLoaded",()=>{e.addEventListener("mousedown",()=>{this.play()}),e.addEventListener("mouseup",()=>{this.stop()}),e.addEventListener("touchstart",()=>{this.play()}),e.addEventListener("touchend",()=>{this.stop()})})))}move(){var e,t;!this.box||(this.is_back?this.offset++:this.offset--,this.offset<=0?(this.timer&&(clearInterval(this.timer),this.timer=null),(e=this.motion)==null||e.stop(),(t=this.box)==null||t.classList.remove("-reverse")):this.box.style.left=-this.offset+"px")}play(){var e,t,n;console.log("play"),(e=this.motion)==null||e.setSpeed(1),(t=this.motion)==null||t.play(),this.is_back=!0,(n=this.box)==null||n.classList.remove("-reverse"),this.timer&&clearInterval(this.timer),this.timer=setInterval(()=>{this.move()},15)}stop(){var e;console.log("stop"),this.is_back=!1,(e=this.box)==null||e.classList.add("-reverse")}}class f{constructor(e){o(this,"motion",null);o(this,"timer",null);o(this,"box",null);o(this,"is_tapping",!0);o(this,"speed_default",1);o(this,"speed_max",3);o(this,"speed",1);o(this,"aditional_class","-red");const t=e.dataset.json;!t||(this.box=e.querySelector(".js-moving-box"),!!this.box&&(this.motion=l.loadAnimation({container:this.box,path:"./json/"+t,renderer:"svg",loop:!0,autoplay:!0}),this.motion.setSpeed(this.speed_default),this.motion.addEventListener("DOMLoaded",()=>{e.addEventListener("mousedown",()=>{this.play()}),e.addEventListener("mouseup",()=>{this.stop()}),e.addEventListener("touchstart",()=>{this.play()}),e.addEventListener("touchend",()=>{this.stop()})})))}clearTimer(){this.timer&&(clearInterval(this.timer),this.timer=null)}move(){var e;!this.box||(this.is_tapping?this.speed<=this.speed_max&&(this.speed+=.01):this.speed-=.025,this.speed<=this.speed_default?(this.speed=this.speed_default,this.clearTimer()):(e=this.motion)==null||e.setSpeed(this.speed))}play(){var e,t;(e=this.motion)==null||e.setSpeed(1),this.is_tapping=!0,(t=this.box)==null||t.classList.add(this.aditional_class),this.clearTimer(),this.timer=setInterval(()=>{this.move()},15)}stop(){var e;this.is_tapping=!1,(e=this.box)==null||e.classList.remove(this.aditional_class)}}(()=>{new u(".common-section");const r=Array.from(document.querySelectorAll(".js-moving-man"));!r||r.forEach(e=>{e.dataset.type==="moonwalk"?new p(e):e.dataset.type==="breakdance"?new f(e):new m(e)})})();
