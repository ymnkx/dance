var c=Object.defineProperty;var d=(n,e,t)=>e in n?c(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var r=(n,e,t)=>(d(n,typeof e!="symbol"?e+"":e,t),t);import{L as a}from"./vendor.84fd4821.js";const u=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}};u();class m{constructor(e){const t=document.querySelectorAll(e),i={root:document.querySelector(".common-main"),rootMargin:"-50% 0px",threshold:0},o=new IntersectionObserver(s=>{s.forEach(l=>{l.isIntersecting&&(console.log(l.target.id),this.selectItem(l.target.id))})},i);t.forEach(s=>{o.observe(s)})}selectItem(e){const t=document.querySelector("#js-pagemenu a.-active");t!==null&&t.classList.remove("-active");const i=document.querySelector(`a[href='#${e}']`);i==null||i.classList.add("-active")}}class h{constructor(e){r(this,"motion",null);r(this,"timer",null);r(this,"speed",1.25);const t=e.dataset.json;if(!t)return;const i=e.querySelector(".js-moving-box");!i||(this.motion=a.loadAnimation({container:i,path:"./json/"+t,renderer:"svg",loop:!0,autoplay:!1}),this.motion.setSpeed(this.speed),this.motion.play(),this.motion.addEventListener("DOMLoaded",()=>{e.addEventListener("mousedown",()=>{this.play()}),e.addEventListener("mouseup",()=>{this.stop()}),e.addEventListener("touchstart",()=>{this.play()}),e.addEventListener("touchend",()=>{this.stop()})}))}play(){var e;(e=this.motion)==null||e.setSpeed(.2)}stop(){var e;(e=this.motion)==null||e.setSpeed(this.speed)}}class f{constructor(e){r(this,"motion",null);r(this,"timer",null);r(this,"box",null);r(this,"offset",0);r(this,"is_back",!0);const t=e.dataset.json;!t||(this.box=e.querySelector(".js-moving-box"),!!this.box&&(this.motion=a.loadAnimation({container:this.box,path:"./json/"+t,renderer:"svg",loop:!0,autoplay:!1}),this.motion.setSpeed(1),this.motion.addEventListener("DOMLoaded",()=>{e.addEventListener("mousedown",()=>{this.play()}),e.addEventListener("mouseup",()=>{this.stop()}),e.addEventListener("touchstart",()=>{this.play()}),e.addEventListener("touchend",()=>{this.stop()})})))}move(){var e,t;!this.box||(this.is_back?this.offset++:this.offset--,this.offset<=0?(this.timer&&(clearInterval(this.timer),this.timer=null),(e=this.motion)==null||e.stop(),(t=this.box)==null||t.classList.remove("-reverse")):this.box.style.left=-this.offset+"px")}play(){var e,t,i;console.log("play"),(e=this.motion)==null||e.setSpeed(1),(t=this.motion)==null||t.play(),this.is_back=!0,(i=this.box)==null||i.classList.remove("-reverse"),this.timer&&clearInterval(this.timer),this.timer=setInterval(()=>{this.move()},15)}stop(){var e;console.log("stop"),this.is_back=!1,(e=this.box)==null||e.classList.add("-reverse")}}(()=>{new m(".common-section");const n=Array.from(document.querySelectorAll(".js-moving-man"));!n||n.forEach(e=>{e.dataset.type==="moonwalk"?new f(e):new h(e)})})();
